# Realistic DFTB+ integration test input
# Tests all HSD features used by DFTB+

Geometry = GenFormat {
  5 C
  C  H
  1 1  0.0000000000E+00  0.0000000000E+00  0.0000000000E+00
  2 2  0.6287614522E+00  0.6287614522E+00  0.6287614522E+00
  3 2 -0.6287614522E+00 -0.6287614522E+00  0.6287614522E+00
  4 2 -0.6287614522E+00  0.6287614522E+00 -0.6287614522E+00
  5 2  0.6287614522E+00 -0.6287614522E+00 -0.6287614522E+00
}

# Empty block (static calculation driver)
Driver = {}

Hamiltonian = DFTB {
  SCC = Yes
  SCCTolerance = 1.0e-5
  MaxSCCIterations = 100

  MaxAngularMomentum {
    C = "p"
    H = "s"
  }

  SlaterKosterFiles = Type2FileNames {
    Prefix = "slakos/origin/mio-1-1/"
    Separator = "-"
    Suffix = ".skf"
  }

  Filling = Fermi {
    Temperature [Kelvin] = 300.0
  }

  # Direct SK file mapping (alternative style)
  Charge = 0.0

  Mixer = Simple {
    MixingParameter = 0.05
  }
}

Options {
  WriteDetailedXML = No
  CalculateForces = Yes
  WriteAutotestTag = Yes
  RandomSeed = 42
}

Analysis {
  PrintForces = Yes
  MullikenAnalysis = Yes
  ProjectStates {
    Region {
      Atoms = "1:3"
      ShellResolved = Yes
      Label = "carbon"
    }
    Region {
      Atoms = "4:5"
      Label = "hydrogen"
    }
  }
}

ParserOptions {
  ParserVersion = 14
  WriteHSDInput = Yes
  StopAfterParsing = No
  IgnoreUnprocessedNodes = No
}
